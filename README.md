# dd_manager.py
Этот скрипт создан для автоматизации сбора статистики с платформы DefectDojo. Ещё скрипт умеет распределять сработки на неделю для команды, а также отлавливать некоторые нежелательные случаи (например, уже размеченная сработка является открытой или не убран флаг "reactivate_expired")

## Использование скрипта
Для использования скрипта вам понадобится интерпретатор python.
Для работы скрипту необходим токен от DefectDojo платформы (токен можно найти на странице: https://dd.codescoring.tech/api/key-v2). Полученный токен указывается с помощью флага '-t'/'--token', например:
```
python3 dd_manager.py -t <YOUR_TOKEN> ...
```
Но чтобы каждый раз не указывать токен в команде запуска скрипта, можно записать этот токен в код скрипта в переменную 'TOKEN':
```
TOKEN = '<YOUR_TOKEN>'
```
Доступные команды:
1. stats - собирает статистику разметок с определённого дня.  
Доступные опции:
    * -v, --verbose: Подробный вывод статистики
    * -s, --save: Сохранить статистику в файл
    * -d START_DATE, --start_date DATE: (29/07/2002) - Начальная дата (включительно) после которой собрать статистику. По умолчанию - неделю назад
    * -e END_DATE, --end_date END_DATE (29/07/2002) - Конечная дата (включительно) для сбора статистики. По умолчанию - сегодняшний день
    
    Пример запуска:
```
python3 dd_manager.py stats -v -d 29/06/2024
```
2. assign - Распределить открытые сработки на неделю
Доступные опции:
    * -s, --save: Сохранить распределение в файл
    
    Пример запуска:
```
python3 dd_manager.py assign -s
```
3. check - Проверить сработки на валидность  
Пример запуска:
```
python3 dd_manager.py check
```
